<div class="container vh-100">
  <div class="row h-100 justify-content-center align-items-center">
    <div class="col text-center">
      <div class="row justify-content-center align-items-center">
        <div class="col-3">
          <button style="width: 100%" mat-raised-button type="button" (click)="loadChartData()" [disabled]="isLoading">
            Load Sales Data
          </button>
        </div>

        <div class="col-3">
          <button style="width: 100%;" mat-raised-button type="button" (click)="startUploadToBigQuery()" [disabled]="isLoading">
            Upload to Big Query
          </button>
        </div>
      </div>

      <div style="max-width: 600px; margin: 20px auto auto;">
        @if (isLoading && !errorMessage) {
          <mat-progress-bar mode="indeterminate" style="margin-bottom: 3rem"></mat-progress-bar>
        }

        @if (errorMessage) {
          <p style="color: red">{{ errorMessage }}</p>
        }

        <canvas baseChart
                [data]="pieChartData"
                [labels]="pieChartLabels"
                [type]="'pie'"
                [options]="pieChartOptions">
        </canvas>
      </div>
    </div>
  </div>
</div>
